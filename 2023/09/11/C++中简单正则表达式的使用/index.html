<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/fancybox/3.5.1/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"cloudplayer99.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="参考文档： Reference &lt;regex&gt; microsoft Learn-&gt;Microsoft C++、C 和 汇编程序-&gt;C++ 标准库-&gt;C++ 标准库头文件-&gt;regex">
<meta property="og:type" content="article">
<meta property="og:title" content="C++中简单正则表达式的使用">
<meta property="og:url" content="https://cloudplayer99.github.io/2023/09/11/C++%E4%B8%AD%E7%AE%80%E5%8D%95%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E4%BD%BF%E7%94%A8/index.html">
<meta property="og:site_name" content="Cloud_Player&#39;s Notes">
<meta property="og:description" content="参考文档： Reference &lt;regex&gt; microsoft Learn-&gt;Microsoft C++、C 和 汇编程序-&gt;C++ 标准库-&gt;C++ 标准库头文件-&gt;regex">
<meta property="article:published_time" content="2023-09-11T14:00:00.000Z">
<meta property="article:modified_time" content="2023-12-04T05:58:59.107Z">
<meta property="article:author" content="Cloud_Player">
<meta property="article:tag" content="学习笔记">
<meta property="article:tag" content="C++">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://cloudplayer99.github.io/2023/09/11/C++%E4%B8%AD%E7%AE%80%E5%8D%95%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E4%BD%BF%E7%94%A8/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-Hans'
  };
</script>

  <title>C++中简单正则表达式的使用 | Cloud_Player's Notes</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Cloud_Player's Notes</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://cloudplayer99.github.io/2023/09/11/C++%E4%B8%AD%E7%AE%80%E5%8D%95%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Cloud_Player">
      <meta itemprop="description" content="Coding for fun">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cloud_Player's Notes">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          C++中简单正则表达式的使用
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-09-11 22:00:00" itemprop="dateCreated datePublished" datetime="2023-09-11T22:00:00+08:00">2023-09-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-12-04 13:58:59" itemprop="dateModified" datetime="2023-12-04T13:58:59+08:00">2023-12-04</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>5.9k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>5 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>参考文档：<br>
<a href="https://cplusplus.com/reference/regex/" target="_blank" rel="noopener">Reference &lt;regex&gt;</a><br>
<a href="https://learn.microsoft.com/zh-cn/cpp/standard-library/regex?view=msvc-170" target="_blank" rel="noopener">microsoft Learn-&gt;Microsoft C++、C 和 汇编程序-&gt;C++ 标准库-&gt;C++ 标准库头文件-&gt;regex</a></p>
<a id="more"></a>
<h2 id="regex-库的简单应用"><a class="header-anchor" href="#regex-库的简单应用">¶</a>regex 库的简单应用</h2>
<ul>
<li>std::regex
<ul>
<li>regex 是 <code>char basic_regex</code> 的类型定义，这个类模板描述包含正则表达式的对象，这个类模板的对象可以传递给模板函数 regex_match、regex_search 和 regex_replace。它还传递合适的文本字符串自变量，以搜索与正则表达式匹配的文本</li>
</ul>
</li>
<li>std::smatch
<ul>
<li>smatch 是 <code>string match_results</code> 的类型定义，类模板描述一个对象，该对象用于控制由正则表达式搜索生成的 <code>sub_match&lt;BidIt&gt;</code> 类型元素不可修改的序列。每个元素指向与该元素对应的捕获组匹配的子序列。</li>
</ul>
</li>
<li>std::regex_search
<ul>
<li>regex_search 函数用于搜索正则表达式匹配项。仅在其操作数序列中成功搜索到其正则表达式 re 时，每个模板函数才返回 true。 采用 match_results 对象的函数将其成员设置为反映搜索是否成功，以及如果成功，正则表达式中的各种捕获组所捕获的内容。</li>
<li>This function returns true if the expression is found anywhere in the target sequence, even if the sequence contains more characters that are not part of the match before or after the match. For a function that returns true only when the entire sequence matches, see regex_match.</li>
<li><code>std::regex_search(str, matches, pattern)</code></li>
</ul>
</li>
<li>std::regex_match
<ul>
<li>regex_match 函数用于测试正则表达式是否与整个目标字符串相匹配，每个模板函数仅在整个操作数序列 str 与正则表达式参数 re 完全匹配时才返回 true</li>
<li>请使用 regex_search 匹配目标序列中的子字符串，并使用 regex_iterator 查找多个匹配。 采用 match_results 对象的函数将其成员设置为反映匹配是否成功，以及如果成功，正则表达式中的各种捕获组所捕获的内容</li>
<li><code>std::regex_match(str, pattern)</code></li>
<li><code>std::regex_match(str, matches, pattern)</code></li>
<li><code>std::regex_match(str.cbegin(), str.cend(), matches, pattern)</code> 其中 cbegin 与 cend 中的 c for const</li>
</ul>
</li>
<li>std::sregex_iterator
<ul>
<li><code>string regex_iterator</code> 的类型定义，用于循环访问匹配结果</li>
<li><code>using sregex_iterator = regex_iterator&lt;string::const_iterator&gt;;</code></li>
<li><code>std::sregex_iterator it(str.begin(), str.end(), pattern);</code></li>
</ul>
</li>
<li>std::regex_iterator::regex_iterator
<ul>
<li>用于循环访问匹配结果</li>
<li><code>std::regex_iterator&lt;std::string::iterator&gt; rit(str.begin(), str.end(), pattern);</code></li>
</ul>
</li>
<li>正则表达式与 R
<ul>
<li>使用 <code>R&quot;()&quot;</code> 来定义一个原始字符串字面量（raw string literal）。这种语法允许你在字符串中使用特殊字符（比如反斜杠 \）而不需要进行转义</li>
</ul>
</li>
<li>常见的正则表达式编写规则
<ul>
<li>普通字符匹配：
<ul>
<li>普通字符（例如字母、数字）会直接匹配它们自己。例如：a 匹配字符 “a”</li>
</ul>
</li>
<li>特殊字符：
<ul>
<li>\ ：用于转义特殊字符，使其成为普通字符。例如：. 匹配句号</li>
<li>. ：匹配除换行符之外的任意字符</li>
<li>^ ：匹配行的开始位置</li>
<li>$ ：匹配行的结束位置</li>
</ul>
</li>
<li>字符类别：
<ul>
<li>[ ] ：用于定义一个字符集合，匹配其中的任意一个字符<br>
例如：[aeiou] 匹配任意一个元音字母，[^aeiou] 匹配任意一个非元音字母</li>
</ul>
</li>
<li>预定义字符类别：
<ul>
<li>\d ：匹配任意一个数字（等价于 [0-9]）</li>
<li>\D ：匹配任意一个非数字字符</li>
<li>\w ：匹配任意一个字母、数字或下划线字符（等价于 [a-zA-Z0-9_]）</li>
<li>\W ：匹配任意一个非字母、数字或下划线字符</li>
</ul>
</li>
<li>重复次数：
<ul>
<li>* ：匹配前面的字符零次或多次</li>
<li>+ ：匹配前面的字符一次或多次</li>
<li>? ：匹配前面的字符零次或一次</li>
<li>{n} ：匹配前面的字符恰好 n 次</li>
<li>{n,} ：匹配前面的字符至少 n 次</li>
<li>{n,m} ：匹配前面的字符至少 n 次，但不超过 m 次</li>
</ul>
</li>
<li>分组和选择：
<ul>
<li>( ) ：用于将表达式分组，以便对整个组应用重复次数或其他操作</li>
<li>| ：用于在两个或多个表达式之间选择一个。</li>
</ul>
</li>
<li>转义字符：
<ul>
<li>\ ：用于转义特殊字符，使其成为普通字符。例如：\ 匹配字符 “”</li>
</ul>
</li>
<li>开始和结束锚点：
<ul>
<li>^ ：匹配字符串的开始位置</li>
<li>$ ：匹配字符串的结束位置</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="regex-库的应用范例"><a class="header-anchor" href="#regex-库的应用范例">¶</a>regex 库的应用范例</h2>
<h3 id="regex-search-example"><a class="header-anchor" href="#regex-search-example">¶</a>regex_search example</h3>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// regex_search example</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;regex&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="function"><span class="built_in">std</span>::<span class="built_in">string</span> <span class="title">s</span> <span class="params">(<span class="string">"this subject has a submarine as a subsequence"</span>)</span></span>;</span><br><span class="line">  <span class="built_in">std</span>::smatch m;</span><br><span class="line">  <span class="function"><span class="built_in">std</span>::regex <span class="title">e</span> <span class="params">(<span class="string">"\\b(sub)([^ ]*)"</span>)</span></span>;   <span class="comment">// matches words beginning by "sub"</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Target sequence: "</span> &lt;&lt; s &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Regular expression: /\\b(sub)([^ ]*)/"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"The following matches and submatches were found:"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (<span class="built_in">std</span>::regex_search (s,m,e)) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x:m) <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; x &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    s = m.suffix().str();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Output:</span><br><span class="line">Target sequence: this subject has a submarine as subsequence</span><br><span class="line">Regular expression: &#x2F;\b(sub)([^ ]*)&#x2F;</span><br><span class="line">The following matches and submatches were found:</span><br><span class="line">subject sub ject</span><br><span class="line">submarine sub marine</span><br><span class="line">subsequence sub sequence</span><br></pre></td></tr></table></figure>
<h3 id="regex-match-example"><a class="header-anchor" href="#regex-match-example">¶</a>regex_match example</h3>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// regex_match example</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;regex&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">std</span>::regex_match (<span class="string">"subject"</span>, <span class="built_in">std</span>::regex(<span class="string">"(sub)(.*)"</span>) ))</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"string literal matched\n"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="keyword">char</span> cstr[] = <span class="string">"subject"</span>;</span><br><span class="line">  <span class="function"><span class="built_in">std</span>::<span class="built_in">string</span> <span class="title">s</span> <span class="params">(<span class="string">"subject"</span>)</span></span>;</span><br><span class="line">  <span class="function"><span class="built_in">std</span>::regex <span class="title">e</span> <span class="params">(<span class="string">"(sub)(.*)"</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">std</span>::regex_match (s,e))</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"string object matched\n"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> ( <span class="built_in">std</span>::regex_match ( s.<span class="built_in">begin</span>(), s.<span class="built_in">end</span>(), e ) )</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"range matched\n"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">std</span>::cmatch cm;    <span class="comment">// same as std::match_results&lt;const char*&gt; cm;</span></span><br><span class="line">  <span class="built_in">std</span>::regex_match (cstr,cm,e);</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"string literal with "</span> &lt;&lt; cm.<span class="built_in">size</span>() &lt;&lt; <span class="string">" matches\n"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">std</span>::smatch sm;    <span class="comment">// same as std::match_results&lt;string::const_iterator&gt; sm;</span></span><br><span class="line">  <span class="built_in">std</span>::regex_match (s,sm,e);</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"string object with "</span> &lt;&lt; sm.<span class="built_in">size</span>() &lt;&lt; <span class="string">" matches\n"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">std</span>::regex_match ( s.cbegin(), s.cend(), sm, e);</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"range with "</span> &lt;&lt; sm.<span class="built_in">size</span>() &lt;&lt; <span class="string">" matches\n"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// using explicit flags:</span></span><br><span class="line">  <span class="built_in">std</span>::regex_match ( cstr, cm, e, <span class="built_in">std</span>::regex_constants::match_default );</span><br><span class="line"></span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"the matches were: "</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">unsigned</span> i=<span class="number">0</span>; i&lt;cm.<span class="built_in">size</span>(); ++i) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"["</span> &lt;&lt; cm[i] &lt;&lt; <span class="string">"] "</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Output:</span><br><span class="line">string literal matched</span><br><span class="line">string object matched</span><br><span class="line">range matched</span><br><span class="line">string literal with 3 matches</span><br><span class="line">string object with 3 matches</span><br><span class="line">range with 3 matches</span><br><span class="line">the matches were: [subject] [sub] [ject]</span><br></pre></td></tr></table></figure>
<h3 id="regex-iterator-example"><a class="header-anchor" href="#regex-iterator-example">¶</a>regex_iterator example</h3>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// regex_iterator constructor</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;regex&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="function"><span class="built_in">std</span>::<span class="built_in">string</span> <span class="title">s</span> <span class="params">(<span class="string">"this subject has a submarine as a subsequence"</span>)</span></span>;</span><br><span class="line">  <span class="function"><span class="built_in">std</span>::regex <span class="title">e</span> <span class="params">(<span class="string">"\\b(sub)([^ ]*)"</span>)</span></span>;   <span class="comment">// matches words beginning by "sub"</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="built_in">std</span>::regex_iterator&lt;<span class="built_in">std</span>::<span class="built_in">string</span>::iterator&gt; <span class="title">rit</span> <span class="params">( s.<span class="built_in">begin</span>(), s.<span class="built_in">end</span>(), e )</span></span>;</span><br><span class="line">  <span class="built_in">std</span>::regex_iterator&lt;<span class="built_in">std</span>::<span class="built_in">string</span>::iterator&gt; rend;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (rit!=rend) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; rit-&gt;str() &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    ++rit;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Output:</span><br><span class="line">subject</span><br><span class="line">submarine</span><br><span class="line">subsequence</span><br></pre></td></tr></table></figure>
<h3 id="A-specific-application"><a class="header-anchor" href="#A-specific-application">¶</a>A specific application</h3>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;regex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">double</span> value;</span><br><span class="line">	<span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; value;</span><br><span class="line">	<span class="function"><span class="built_in">std</span>::regex <span class="title">pattern</span><span class="params">(<span class="string">R"(\d+\.\d+[ef])"</span>)</span></span>;</span><br><span class="line">	<span class="built_in">std</span>::smatch matches;</span><br><span class="line">	<span class="built_in">std</span>::<span class="built_in">string</span> format;</span><br><span class="line">	<span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; format;</span><br><span class="line">	<span class="keyword">if</span> (<span class="built_in">std</span>::regex_match(format, matches, pattern))</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">std</span>::<span class="built_in">string</span> format_str = matches.str();</span><br><span class="line">		<span class="function"><span class="built_in">std</span>::regex <span class="title">digits</span><span class="params">(<span class="string">R"(\d+)"</span>)</span></span>;</span><br><span class="line">		<span class="function"><span class="built_in">std</span>::sregex_iterator <span class="title">it</span><span class="params">(format_str.<span class="built_in">begin</span>(), format_str.<span class="built_in">end</span>(), digits)</span></span>;</span><br><span class="line">		<span class="built_in">std</span>::smatch digits_1 = *it;</span><br><span class="line">		<span class="built_in">std</span>::smatch digits_2 = *(++it);</span><br><span class="line">		<span class="keyword">int</span> min_wide = <span class="built_in">std</span>::stoi(digits_1.str());</span><br><span class="line">		<span class="keyword">int</span> precision = <span class="built_in">std</span>::stoi(digits_2.str());</span><br><span class="line">		<span class="keyword">char</span> mode = format_str.back();</span><br><span class="line">		<span class="keyword">switch</span> (mode)</span><br><span class="line">		&#123;</span><br><span class="line">		<span class="keyword">case</span> <span class="string">'f'</span>:  </span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::setw(min_wide) &lt;&lt; <span class="built_in">std</span>::setprecision(precision)</span><br><span class="line">				&lt;&lt; <span class="built_in">std</span>::fixed &lt;&lt; value &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">case</span> <span class="string">'e'</span>:</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::setw(min_wide) &lt;&lt; <span class="built_in">std</span>::setprecision(precision)</span><br><span class="line">				&lt;&lt; <span class="built_in">std</span>::scientific &lt;&lt; value &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">default</span>:</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">input: </span><br><span class="line">0.8539</span><br><span class="line">6.3f</span><br><span class="line"></span><br><span class="line">output:</span><br><span class="line"> 0.854</span><br></pre></td></tr></table></figure>

    </div>

    
    
    
        <div class="reward-container">
  <div></div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechat.png" alt="Cloud_Player 微信支付">
        <p>微信支付</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipay.jpg" alt="Cloud_Player 支付宝">
        <p>支付宝</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>Cloud_Player
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://cloudplayer99.github.io/2023/09/11/C++%E4%B8%AD%E7%AE%80%E5%8D%95%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E4%BD%BF%E7%94%A8/" title="C++中简单正则表达式的使用">https://cloudplayer99.github.io/2023/09/11/C++中简单正则表达式的使用/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="tag"># 学习笔记</a>
              <a href="/tags/C/" rel="tag"># C++</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2023/09/08/ChatGPT%E7%9A%84%E6%B3%A8%E5%86%8C%E4%B8%8E%E4%BD%BF%E7%94%A8/" rel="prev" title="ChatGPT 的注册与使用">
      <i class="fa fa-chevron-left"></i> ChatGPT 的注册与使用
    </a></div>
      <div class="post-nav-item">
    <a href="/2023/10/19/DCS%20World%20Su-25T/" rel="next" title="DCS World Su-25T 从起飞到坠机">
      DCS World Su-25T 从起飞到坠机 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#regex-库的简单应用"><span class="nav-number">1.</span> <span class="nav-text">regex 库的简单应用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#regex-库的应用范例"><span class="nav-number">2.</span> <span class="nav-text">regex 库的应用范例</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#regex-search-example"><span class="nav-number">2.1.</span> <span class="nav-text">regex_search example</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#regex-match-example"><span class="nav-number">2.2.</span> <span class="nav-text">regex_match example</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#regex-iterator-example"><span class="nav-number">2.3.</span> <span class="nav-text">regex_iterator example</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#A-specific-application"><span class="nav-number">2.4.</span> <span class="nav-text">A specific application</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Cloud_Player"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">Cloud_Player</p>
  <div class="site-description" itemprop="description">Coding for fun</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">109</span>
          <span class="site-state-item-name">博文</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">73</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/cloudplayer99" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;cloudplayer99" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:newphilosophy1504@gmail.com" title="E-Mail → mailto:newphilosophy1504@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/cloudplayer99" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;cloudplayer99" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://space.bilibili.com/348530250" title="bilibili → https:&#x2F;&#x2F;space.bilibili.com&#x2F;348530250" rel="noopener" target="_blank"><i class="fab fa-bilibili fa-fw"></i>bilibili</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://blog.csdn.net/qq_43742385" title="https:&#x2F;&#x2F;blog.csdn.net&#x2F;qq_43742385" rel="noopener" target="_blank">烯烃@</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://www.jianshu.com/u/33ae80156f74" title="https:&#x2F;&#x2F;www.jianshu.com&#x2F;u&#x2F;33ae80156f74" rel="noopener" target="_blank">Day_cun</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://music.163.com/#/artist?id=30002005" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;artist?id&#x3D;30002005" rel="noopener" target="_blank">DEANBE</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2020 – 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Cloud_Player</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">617k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">9:21</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdn.bootcdn.net/ajax/libs/fancybox/3.5.1/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/three-waves.min.js"></script>
    <script defer src="/lib/three/canvas_lines.min.js"></script>
    <script defer src="/lib/three/canvas_sphere.min.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '4c51b139d4c2973e0cbc',
      clientSecret: 'f34e9dd30d03bcdd48050c5aed39458dc83e1772',
      repo        : 'cloudplayer99.github.io',
      owner       : 'cloudplayer99',
      admin       : ['cloudplayer99'],
      id          : '2023/09/11/C++中简单正则表达式的使用/',
        language: '',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":300,"height":300,"hOffset":-50,"vOffset":100},"mobile":{"show":true},"log":false});</script></body>
</html>
